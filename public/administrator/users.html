<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Administrator :: Users</title>
		
		<!--Import foundation.css-->
		<link type="text/css" rel="stylesheet" href="../css/vendor/fontawesome.min.css"    media="screen,projection"/>
		<link type="text/css" rel="stylesheet" href="../css/custom.min.css"    media="screen,projection"/>

		<!--Import custom styles.css-->
	</head>
<body class="light-grey index container-1-2-thirds">
	<div id="loader-wrapper">
		<div id="loader"></div>        
	</div>

	<div id="header-left" class="slate center center-vertical">
		<h4 class="nomargin"><i id="user" class="fas fa-user"></i><span id="display-name"><!-- generated by javascript --></span></h4>
	</div>
	<div id="header-right" class="grey center container-2-halves">
		<div class="center-vertical">
			<h1 id="title" class="nomargin">Home</h1>
		</div>
		<div class="right center-vertical">
			
			<div class="dropdown" aria-label="user options">
				<button class="dropbtn"><span class="fas fa-user"></span></button>
				<div class="dropdown-content green-links">
					<a href="javascript:auth.signOut();" aria-label="logout"><i class="fas fa-sign-out-alt"></i>Logout</a>
				</div>
			</div>
			
		</div>
	</div>

	<nav id="left-nav" class="dark-blue" aria-label="mainNavigation" role="navigation">
		<ul>
			<li>
				<a href="index.html"><i class="fas fa-home"></i>Home</a>
			</li>
			<li>
				<a class="active" href="users.html"><i class="fas fa-users"></i>Users</a>
			</li>
			<ul>
				<li>
					<a class="admin-only" href="javascript:showUser(null);"><i class="fas fa-user-plus"></i>Add a New User</a>
				</li>
			</ul>
		</ul>
	</nav>

	<main class="container-main green-links">
		<!-- Breadcrumb -->
		<nav id="breadcrumbs" aria-label="You are here:" role="navigation">
			<ul class="nomargin">
				<li><a href="#"><i class="fas fa-home"></i>Home</a></li>
				<li>
					<span class="show-for-sr">Current: </span> Users
				</li>
			</ul>
		</nav>

		<div class="table search user">
			<h4 class="green center">
				<span>Name</span>
				<span>Email</span>
				<span>User Type</span>
				<span>Actions</span>
			</h4>
			<form id="search-form">
				<input id="search" type="text" placeholder="Name begins with..." aria-placeholder="Name begins with..." role="textbox" data-validate="true">
				<button class="button small green waves-effect waves-light" type="submit" value="Search"><i class="fas fa-search"></i></button>
			</form>
			<div id="content">
				<!-- populated by javascript -->
			</div>
			<nav id="pagination" class="pagination">
				<button id="back" class="button green waves-effect waves-light"><i class="fas fa-caret-left"></i> Back</button>
				<button id="next" class="button green waves-effect waves-light">Next <i class="fas fa-caret-right"></i></button>
			</nav>
		</div>

	</main>

	<div id="toast"><!-- generated by javascript --></div>
<!-- 
///////////////////////////////////////////////////////////////////////////////////////////////////////

START Popup containing Event form

///////////////////////////////////////////////////////////////////////////////////////////////////////
-->

<div id="user-modal" class="modal" aria-hidden="true">
	<div class="modal-size" tabindex="-1" data-micromodal-close>
		<div role="dialog" class="card" aria-modal="true" aria-labelledby="modal-title" >

			<header class="card-title green">
				<h2 id="modal-title">Manage Users</h2>  
				<button aria-label="Close modal" class="modal-close far fa-window-close" data-micromodal-close></button>
			</header>
	
			<div id="user-modal-content" class="card-section">
				<form id="user-form" novalidate>
					<div class="form-row">
						<label>
							<i class="fas fa-lock"></i> Full Name
							<input id="name" type="text" placeholder="Full Name" aria-placeholder="Password" role="textbox" data-validate="true" data-validation-type="required">
							<span id="name-error" class="form-error"><i class="fas fa-times-circle"></i> Cannot be blank!</span>
						</label>
					</div>
					<div class="form-row">
						<label>
							<i class="fas fa-envelope"></i> User Type
							<select id="user-type" name="user-type" aria-placeholder="Select User Type" role="listbox" data-validate="true" data-validation-type="required">
								<option value="Technician" selected>Technician</option>
								<option value="Pharmacist">Pharmacist</option>
								<option value="Administrator">Administrator</option>
							</select>
							<span id="user-type-error" class="form-error"><i class="fas fa-times-circle"></i> Please select a User Type</span>
						</label>
					</div>
					<div class="form-row">
						<label>
							<i class="fas fa-envelope"></i> Email
							<input id="email" type="email" placeholder="someone@domain.com" aria-placeholder="Email Address" role="textbox" autocomplete="username" data-validate="true" data-validation-type="email">
							<span id="email-error" class="form-error"><i class="fas fa-times-circle"></i> Please use a valid Email address</span>
						</label>
					</div>
					<div class="form-row center">
						<button id="user-update" class="button green waves-effect waves-light hidden" onclick="updateUserDetails()" type="button">Update</button>
						<button id="user-create" class="button green waves-effect waves-light hidden" onclick="createNewUser()" type="button">Create</button>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>



	<!-- include main functionality of Firebase -->
	<!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
	<script src="https://www.gstatic.com/firebasejs/8.2.2/firebase-app.js"></script>
	<!-- Add Firebase products that you want to use -->
	<script src="https://www.gstatic.com/firebasejs/8.2.2/firebase-auth.js"></script>
	<script src="https://www.gstatic.com/firebasejs/8.2.2/firebase-firestore.js"></script>
	<script src="https://www.gstatic.com/firebasejs/8.2.2/firebase-functions.js"></script>
	<script>
		// Your web app's Firebase configuration
		var firebaseConfig = {
			apiKey: "AIzaSyBZ1Qeu5SrCY1kxHfKsqarGIN2zx9fJEjE",
			authDomain: "complacent-aad-5db16.firebaseapp.com",
			projectId: "complacent-aad-5db16",
			storageBucket: "complacent-aad-5db16.appspot.com",
			messagingSenderId: "1095218295826",
			appId: "1:1095218295826:web:f8386b94a0301324f4d4cb"
		};
		// Initialize Firebase
		firebase.initializeApp(firebaseConfig);

		const auth = firebase.auth();
		const db = firebase.firestore();
		const functions = firebase.functions();
	</script>


	<!-- include main functionality of Foundation -->
	<script src="../js/vendor/waves.min.js"></script>
	<script src="../js/vendor/micromodal.min.js"></script>
	<script src="../js/utility.js"></script>
	<script src="../js/admin-users.js"></script>
	
</body>
</html>